!function(){"use strict";var e,t,n,o={488:function(e,t,n){n.d(t,{FX:function(){return a},$c:function(){return s},k$:function(){return c}});var o=n(523),r=document.createElement("div");function a(e,t){e&&e.isCollapsed&&"HTML"==t?(r.style.top=0,r.style.left=0):"IMAGE"==t?(r.style.top=e.target.offsetTop+10+"px",r.style.left=e.target.offsetLeft+10+"px"):(r.style.top=e.anchorNode.parentNode.offsetTop-15+"px",r.style.left=e.anchorNode.parentNode.offsetLeft-20+"px")}function s(e){var t=e.status;e.type,console.log(t),r.style.display=t?"block":"none"}function c(e,t,n){if(console.log(e),console.log(t),"IMG"==e.nodeName)(0,o.s)(t.src,(function(e){var r={data:[]};r.token=n;var a={type:"image"};a.base64=e,a.url=t.src,r.data.push(a),(0,o.a)(r)}));else{var r={data:[]};r.token=n;var a={type:"html"};a.html=t.outerHTML,a.text=t.innerText,r.data.push(a),(0,o.a)(r)}}r.classList.add("my-class"),r.id="wejePinner",r.style="position: absolute;top: 10px;left: 10px;width: 20px;height: 20px;background: blue;border-radius:50%; z-index: 10000;cursor: pointer; display:none",document.body.append(r)},523:function(e,t,n){function o(e,t){var n=new XMLHttpRequest;n.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.send()}function r(e){console.log("ccc",e),console.log(chrome)}n.d(t,{s:function(){return o},a:function(){return r}})}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e](n,n.exports,a),n.exports}a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e=a(488),t=a(523),n=null,chrome.runtime.onMessage.addListener((function(o){if(o.pinnerStatus&&(0,e.$c)(o.pinnerStatus),o.target&&"image"==o.target.mediaType)(0,t.s)(o.target.srcUrl,(function(e){var n={data:[]};n.token=o.token;var r={type:"image"};r.base64=e,r.url=o.target.srcUrl,n.data.push(r),(0,t.a)(n)}));else if(o.target&&o.target.selectionText){var r={data:[]},a={};r.token=o.token,a.type="html",a.html=n.outerHTML,a.text=n.innerText,r.data.push(a),(0,t.a)(r)}})),document.onselectionchange=function(){var t=document.getSelection();if(!t.isCollapsed){n=document.createElement("div");for(var o=0;o<t.rangeCount;o++)n.append(t.getRangeAt(o).cloneContents()),t.getRangeAt(o).cloneContents();for(var r=0;r<n.children.length;r++)n.children[r].removeAttribute("class")}"wejePinner"==t.anchorNode.id&&chrome.runtime.sendMessage("getToken",(function(t){(0,e.k$)(n,n,t)})),(0,e.FX)(t,"HTML")},document.onmousemove=function(t){"IMG"==t.target.nodeName&&(n=t.target,(0,e.FX)(t,"IMAGE"))}}();